<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.data.dataprocess.metadata.dao.mapper.DTradeInfoMapper">

<resultMap type="cn.data.dataprocess.metadata.entity.DTradeInfo" id="DTradeInfoMap">
<id property="id" column="id" />
<result property="currDate" column="curr_date" />
<result property="serialNo" column="serial_no" />
<result property="branchNo" column="branch_no" />
<result property="fundAccount" column="fund_account" />
<result property="clientId" column="client_id" />
<result property="otcexchType" column="otcexch_type" />
<result property="otcAccount" column="otc_account" />
<result property="otcCode" column="otc_code" />
<result property="otcProp" column="otc_prop" />
<result property="entrustNo" column="entrust_no" />
<result property="reportNo" column="report_no" />
<result property="businessAmount" column="business_amount" />
<result property="businessPrice" column="business_price" />
<result property="businessBalance" column="business_balance" />
<result property="oppOtcaccount" column="opp_otcaccount" />
<result property="businessNo" column="business_no" />
<result property="realStatus" column="real_status" />
<result property="cancelSerialno" column="cancel_serialno" />
<result property="positionStr" column="position_str" />
</resultMap>

<!-- auto implement code by cn.data.dataprocess.metadata.dao.IBaseMapperDao.java -->
<select id="getEntity" resultMap="DTradeInfoMap">
select * from d_trade_info where id = #{id}
</select>

<insert id="add">
<selectKey resultType="Long" order="AFTER" keyProperty="id">
SELECT LAST_INSERT_ID() AS id
</selectKey>
insert into d_trade_info(id,curr_date,serial_no,branch_no,fund_account,client_id,otcexch_type,otc_account,otc_code,otc_prop,entrust_no,report_no,business_amount,business_price,business_balance,opp_otcaccount,business_no,real_status,cancel_serialno,position_str) values(#{id},#{currDate},#{serialNo},#{branchNo},#{fundAccount},#{clientId},#{otcexchType},#{otcAccount},#{otcCode},#{otcProp},#{entrustNo},#{reportNo},#{businessAmount},#{businessPrice},#{businessBalance},#{oppOtcaccount},#{businessNo},#{realStatus},#{cancelSerialno},#{positionStr})
</insert>

<insert id="batchAdd">insert into d_trade_info(id,curr_date,serial_no,branch_no,fund_account,client_id,otcexch_type,otc_account,otc_code,otc_prop,entrust_no,report_no,business_amount,business_price,business_balance,opp_otcaccount,business_no,real_status,cancel_serialno,position_str) values
<foreach collection="list" item="item" index="index" separator=",">
(#{item.id},#{item.currDate},#{item.serialNo},#{item.branchNo},#{item.fundAccount},#{item.clientId},#{item.otcexchType},#{item.otcAccount},#{item.otcCode},#{item.otcProp},#{item.entrustNo},#{item.reportNo},#{item.businessAmount},#{item.businessPrice},#{item.businessBalance},#{item.oppOtcaccount},#{item.businessNo},#{item.realStatus},#{item.cancelSerialno},#{item.positionStr})
</foreach>
</insert>

<update id="update">
update d_trade_info
<set>
<if test="id!=null" >
id=#{id},
</if>
<if test="currDate!=null" >
curr_date=#{currDate},
</if>
<if test="serialNo!=null" >
serial_no=#{serialNo},
</if>
<if test="branchNo!=null" >
branch_no=#{branchNo},
</if>
<if test="fundAccount!=null" >
fund_account=#{fundAccount},
</if>
<if test="clientId!=null" >
client_id=#{clientId},
</if>
<if test="otcexchType!=null" >
otcexch_type=#{otcexchType},
</if>
<if test="otcAccount!=null" >
otc_account=#{otcAccount},
</if>
<if test="otcCode!=null" >
otc_code=#{otcCode},
</if>
<if test="otcProp!=null" >
otc_prop=#{otcProp},
</if>
<if test="entrustNo!=null" >
entrust_no=#{entrustNo},
</if>
<if test="reportNo!=null" >
report_no=#{reportNo},
</if>
<if test="businessAmount!=null" >
business_amount=#{businessAmount},
</if>
<if test="businessPrice!=null" >
business_price=#{businessPrice},
</if>
<if test="businessBalance!=null" >
business_balance=#{businessBalance},
</if>
<if test="oppOtcaccount!=null" >
opp_otcaccount=#{oppOtcaccount},
</if>
<if test="businessNo!=null" >
business_no=#{businessNo},
</if>
<if test="realStatus!=null" >
real_status=#{realStatus},
</if>
<if test="cancelSerialno!=null" >
cancel_serialno=#{cancelSerialno},
</if>
<if test="positionStr!=null" >
position_str=#{positionStr},
</if>
</set>
where id=#{id}
</update>

<delete id="remove">
delete from d_trade_info
where id=#{id}
</delete>

<delete id="batchRemove">
delete from d_trade_info where id in 
<foreach collection="list" item="item" index="index" separator="," open="(" close=")">
#{item.id}
</foreach>
</delete>

</mapper>