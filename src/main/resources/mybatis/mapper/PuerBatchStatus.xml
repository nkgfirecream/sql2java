<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.data.dataprocess.metadata.dao.mapper.PuerBatchStatusMapper">

<resultMap type="cn.data.dataprocess.metadata.entity.PuerBatchStatus" id="PuerBatchStatusMap">
<id property="id" column="id" />
<result property="dataDate" column="data_date" />
<result property="processDate" column="process_date" />
<result property="currentStatus" column="current_status" />
<result property="clearStatus" column="clear_status" />
<result property="dTradeInfo" column="d_trade_info" />
<result property="dEntrustInfo" column="d_entrust_info" />
</resultMap>

<!-- auto implement code by cn.data.dataprocess.metadata.dao.IBaseMapperDao.java -->
<select id="getEntity" resultMap="PuerBatchStatusMap">
select * from puer_batch_status where id = #{id}
</select>

<insert id="add">
<selectKey resultType="Long" order="AFTER" keyProperty="id">
SELECT LAST_INSERT_ID() AS id
</selectKey>
insert into puer_batch_status(id,data_date,process_date,current_status,clear_status,d_trade_info,d_entrust_info) values(#{id},#{dataDate},#{processDate},#{currentStatus},#{clearStatus},#{dTradeInfo},#{dEntrustInfo})
</insert>

<insert id="batchAdd">insert into puer_batch_status(id,data_date,process_date,current_status,clear_status,d_trade_info,d_entrust_info) values
<foreach collection="list" item="item" index="index" separator=",">
(#{item.id},#{item.dataDate},#{item.processDate},#{item.currentStatus},#{item.clearStatus},#{item.dTradeInfo},#{item.dEntrustInfo})
</foreach>
</insert>

<update id="update">
update puer_batch_status
<set>
<if test="id!=null" >
id=#{id},
</if>
<if test="dataDate!=null" >
data_date=#{dataDate},
</if>
<if test="processDate!=null" >
process_date=#{processDate},
</if>
<if test="currentStatus!=null" >
current_status=#{currentStatus},
</if>
<if test="clearStatus!=null" >
clear_status=#{clearStatus},
</if>
<if test="dTradeInfo!=null" >
d_trade_info=#{dTradeInfo},
</if>
<if test="dEntrustInfo!=null" >
d_entrust_info=#{dEntrustInfo},
</if>
</set>
where id=#{id}
</update>

<delete id="remove">
delete from puer_batch_status
where id=#{id}
</delete>

<delete id="batchRemove">
delete from puer_batch_status where id in 
<foreach collection="list" item="item" index="index" separator="," open="(" close=")">
#{item.id}
</foreach>
</delete>

</mapper>